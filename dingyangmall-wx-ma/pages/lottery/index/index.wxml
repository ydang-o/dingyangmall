<view class="container">
  <view class="header">
    <view class="title">幸运大抽奖</view>
    <view class="sub-title" wx:if="{{config.costPoints}}">消耗 {{config.costPoints}} 积分/次</view>
    <view class="points">我的积分: {{userInfo.points || 0}}</view>
    <view class="limit" wx:if="{{config.dailyLimit}}">每日限抽: {{config.dailyLimit}} 次</view>
  </view>

  <view class="wheel-area">
    <button class="draw-btn" bindtap="handleDraw" disabled="{{loading}}">
      {{loading ? '抽奖中...' : '立即抽奖'}}
    </button>
  </view>

  <view class="prize-list" wx:if="{{config.prizeList && config.prizeList.length > 0}}">
    <view class="section-title">奖品列表</view>
    <view class="prize-grid">
      <view class="prize-item" wx:for="{{config.prizeList}}" wx:key="id">
        <image src="{{item.prizePic || '/public/img/no_pic.png'}}" mode="aspectFit" class="prize-img"></image>
        <view class="prize-name">{{item.prizeName}}</view>
      </view>
    </view>
  </view>

  <view class="record-list">
    <view class="section-title">我的中奖记录</view>
    <view class="record-item" wx:for="{{recordList}}" wx:key="id">
      <text class="time">{{item.createTime}}</text>
      <text class="name">{{item.prizeName}}</text>
      <text class="status">{{item.grantStatus == '1' ? '已发放' : '待发放'}}</text>
    </view>
    <view class="empty" wx:if="{{recordList.length === 0}}">暂无记录</view>
  </view>
</view>
