<view class="padding">
  <view class="bg-white padding radius shadow-lg margin-bottom">
    <view class="text-xl text-bold margin-bottom">常用功能</view>
    <view class="grid col-2 text-center">
      <view class="padding" bindtap="scanUser">
        <view class="cuIcon-scan text-blue text-sl"></view>
        <view class="margin-top-sm">扫会员码</view>
        <view class="text-gray text-xs margin-top-xs">赠送积分</view>
      </view>
      <view class="padding" bindtap="scanCoupon">
        <view class="cuIcon-qrcode text-orange text-sl"></view>
        <view class="margin-top-sm">扫核销码</view>
        <view class="text-gray text-xs margin-top-xs">核销商品券</view>
      </view>
      <view class="padding" bindtap="showInputUser">
        <view class="cuIcon-edit text-blue text-sl"></view>
        <view class="margin-top-sm">手动输码</view>
        <view class="text-gray text-xs margin-top-xs">输入会员码</view>
      </view>
      <view class="padding" bindtap="showInputCoupon">
        <view class="cuIcon-write text-orange text-sl"></view>
        <view class="margin-top-sm">手动核销</view>
        <view class="text-gray text-xs margin-top-xs">输入券码</view>
      </view>
    </view>
  </view>

  <!-- 手动输入弹窗 -->
  <view class="cu-modal {{showInputModal ? 'show' : ''}}">
    <view class="cu-dialog">
      <view class="cu-bar bg-white justify-end">
        <view class="content">{{inputType == 'user' ? '输入会员码/手机号' : '输入券码'}}</view>
        <view class="action" bindtap="hideInputModal">
          <text class="cuIcon-close text-red"></text>
        </view>
      </view>
      <view class="padding-xl">
        <view class="cu-form-group border">
          <input placeholder="{{inputType == 'user' ? '请输入会员码或手机号' : '请输入商品券码'}}" bindinput="onManualInput" value="{{manualCode}}"></input>
        </view>
      </view>
      <view class="cu-bar bg-white justify-end">
        <view class="action">
          <button class="cu-btn line-green text-green" bindtap="hideInputModal">取消</button>
          <button class="cu-btn bg-green margin-left" bindtap="confirmManualInput">确认</button>
        </view>
      </view>
    </view>
  </view>

  <!-- 会员信息弹窗 -->
  <view class="cu-modal {{showUserModal ? 'show' : ''}}">
    <view class="cu-dialog">
      <view class="cu-bar bg-white justify-end">
        <view class="content">会员信息</view>
        <view class="action" bindtap="hideUserModal">
          <text class="cuIcon-close text-red"></text>
        </view>
      </view>
      <view class="padding-xl text-left">
        <view>昵称：{{userInfo.nickname}}</view>
        <view class="margin-top-sm">手机：{{userInfo.phone}}</view>
        <view class="margin-top-sm">当前积分：{{userInfo.points}}</view>
        
        <view class="cu-form-group margin-top border">
          <view class="title">赠送积分</view>
          <input placeholder="请输入积分数量" type="number" bindinput="onPointsInput"></input>
        </view>
      </view>
      <view class="cu-bar bg-white justify-end">
        <view class="action">
          <button class="cu-btn line-green text-green" bindtap="hideUserModal">取消</button>
          <button class="cu-btn bg-green margin-left" bindtap="givePoints">确认赠送</button>
        </view>
      </view>
    </view>
  </view>
  
  <view class="padding flex flex-direction margin-top-xl">
    <button class="cu-btn bg-grey lg" bindtap="logout">退出登录</button>
  </view>
</view>
